<html>
<head>
  <title>AngularJS 中 Provider 的用法及区别</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1582"/>
<h1>AngularJS 中 Provider 的用法及区别</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/1/24 星期二 23:22</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2017/1/24 星期二 23:22</i></td></tr>
<tr><td><b>作者：</b></td><td><i>王平安</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">在一个分层良好的 Angular 应用中，Controller 这一层应该很薄。也就是说，应用里大部分的业务逻辑和持久化数据都应该放在 Service 里。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">为此，理解 AngularJS 中的几个 Provider 之间的区别很有必要。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">Provider 创建的新服务都可以用来注入。包括：</p><ul style="padding: 0px; margin: 0px 0px 0.75em 25px; list-style-type: none; font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><li style="list-style-type: disc; font-size: 16px;">provider</li><li style="list-style-type: disc; font-size: 16px;">factory</li><li style="list-style-type: disc; font-size: 16px;">service</li><li style="list-style-type: disc; font-size: 16px;">constant</li><li style="list-style-type: disc; font-size: 16px;">value</li></ul><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">另外，内建的服务 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">$controller</code> 和 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">$filter</code> 也可以被注入，同时也可以使用这些服务来获得新的过滤器和控制器。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">下面介绍一下各自的用法和 provider、factory、value 三者之间的区别。</p><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">provider</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">用于产生一个可配置的 Service，由两部分组成。第一部分的变量和函数是可以在<code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">app.config</code> 函数中访问的，可以在它们被其他地方访问到之前来修改它们。定义方式如下：</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.provider(<span style="color: rgb(136, 0, 0);">'myProvider'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">var</span> a = <span style="color: rgb(136, 0, 0);">''</span>;<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">var</span> func = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){};<br/>})<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">在 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">app.config</code> 函数对 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">a</code> 进行修改：</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.config(<span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(myProviderProvider){<br/>    myProvider.a = <span style="color: rgb(136, 0, 0);">'hello world'</span>;<br/>})<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">这也是在有如此简单的 factory 的情况下还使用 provider 的原因。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">第二部分的变量和函数是通过 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">$get()</code> 函数返回的，可以在任何传入了该 provider 的控制器中进行访问的。</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.provider(<span style="color: rgb(136, 0, 0);">'myProvider'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){<br/>    this.$get = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){<br/>        <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> {<br/>            foo: <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){},<br/>            a: a<br/>        }<br/>    }<br/>})<br/></pre></div></div><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">factory</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">factory 返回一个对象。只需要创建一个对象，为它添加属性，然后返回这个对象。在控制器中注入该 factory，即可使用它的所有属性。</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.factory(<span style="color: rgb(136, 0, 0);">'myFactory'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">var</span> fac = {};<br/>    fac.a = <span style="color: rgb(136, 0, 0);">'hello world'</span>;<br/>    fac.foo = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){};<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> fac;<br/>})<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">看得出来，factory 的第二个参数就是 provider 中 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">$get</code> 要对应的函数实现。</p><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">service</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">service 类似于一个构造器， 通过 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">new</code> 关键字实例化对象，将一些属性和方法直接添加到<code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">this</code> 上，在创建 service 对象时， <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">this</code> 会被作为返回值返回。</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.service(<span style="color: rgb(136, 0, 0);">'myService'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">var</span> a = <span style="color: rgb(136, 0, 0);">''</span>;<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">this</span>.setA = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){};<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">this</span>.getA = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){};<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">this</span>.foo = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){};<br/>})<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">注入 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">myService</code> 的控制器可以访问到绑定在 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">myService</code> 中 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">this</code> 上的 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">setA()</code> , <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">getA()</code>和 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">foo()</code> 三个方法。</p><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">constant</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">constant 用于定义常量，一旦定义就不能被改变。可以被注入到任何地方，但是不能被装饰器(decorator)装饰。</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;"><span style="color: rgb(51, 51, 51); font-weight: 700;">app</span><span style="color: rgb(136, 0, 0);">.constant</span>(<span style="color: rgb(136, 0, 0);">'APP_KEY'</span>, <span style="color: rgb(136, 0, 0);">'a1s2d3f4'</span>)<br/></pre></div></div><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">value</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">与 constant 一样，可以用来定义值。但与 constant 的区别是：可以被修改，可以被 decorator 装饰，不能被注入到 config 中。</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;"><span style="color: rgb(51, 51, 51); font-weight: 700;">app</span><span style="color: rgb(136, 0, 0);">.value</span>(<span style="color: rgb(136, 0, 0);">'version'</span>, <span style="color: rgb(136, 0, 0);">'1.0'</span>)<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">value 通常用来为应用设置初始值。</p><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">decorator</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">比较特殊，它不是 provider 。它是用来装饰其他 provider 的，不过 constant 除外，因为从源码可以看出，constant 不是通过 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">provider()</code> 方法创建的。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">下面是一个用 decorator 装饰 value 的栗子。</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.value(<span style="color: rgb(136, 0, 0);">'version'</span>, <span style="color: rgb(136, 0, 0);">'1.0'</span>);<br/>app.decorator(<span style="color: rgb(136, 0, 0);">'version'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> ($delegate) {<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> $delegate + <span style="color: rgb(136, 0, 0);">'.1'</span>;<br/>})<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">那如果要使用前面的 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">myService</code> service，但是其中缺少一个你想要的 greet 函数。可以修改 service 吗？答案是不行！但是可以装饰它：</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;">
app.decorator(<span style="color: rgb(136, 0, 0);">'myService'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>($delegate){<br/>    $delegate.greet = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>(){<br/>        <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> <span style="color: rgb(136, 0, 0);">&quot;Hello, I am a new function of 'myService'&quot;</span>;<br/>    }<br/>})<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51) !important; border-radius: 3px; background-color: rgb(247, 247, 249); border: none; white-space: normal; font-weight: 600; font-size: 14px;">$delegate</code> 代表实际上的 service 实例。</p><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">装饰一个 service 的能力是非常实用的，尤其是当我们想要使用第三方的 service 时，此时不需要将代码复制到我们的项目中，而只需要进行一些修改即可。</p><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">源码</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">下面是 provider、factory、service、value、constant 和 decorator 的底层实现：</p><div style="font-size: 16px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div style="font-size: 16px;"><pre style="padding: 0.5em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; color: rgb(68, 68, 68); border-radius: 4px; display: block; margin: 0px 0px 1.5em; font-size: 14px; word-break: break-all; word-wrap: break-word; white-space: pre; background-color: rgb(246, 246, 246); border: none; overflow-x: auto;"><span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> <span style="color: rgb(136, 0, 0); font-weight: bold;">provider</span>(name, provider_) {<br/>    assertNotHasOwnProperty(name, <span style="color: rgb(136, 0, 0);">'service'</span>);<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">if</span> (isFunction(provider_) || isArray(provider_)) {<br/>        provider_ = providerInjector.instantiate(provider_);<br/>    }<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">if</span> (!provider_.$get) {<br/>        <span style="color: rgb(51, 51, 51); font-weight: 700;">throw</span> $injectorMinErr(<span style="color: rgb(136, 0, 0);">'pget'</span>, <span style="color: rgb(136, 0, 0);">&quot;Provider '{0}' must define $get factory method.&quot;</span>, name);<br/>    }<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> providerCache[name + providerSuffix] = provider_;<br/>}<br/><br/><span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> <span style="color: rgb(136, 0, 0); font-weight: bold;">factory</span>(name, factoryFn, enforce) {<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> provider(name, {<br/>        $get: enforce !== <span style="color: rgb(51, 51, 51); font-weight: 700;">false</span> ? enforceReturnValue(name, factoryFn) : factoryFn<br/>    });<br/>}<br/><br/><span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> <span style="color: rgb(136, 0, 0); font-weight: bold;">service</span>(name, constructor) {<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> factory(name, [<span style="color: rgb(136, 0, 0);">'$injector'</span>, <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>($injector) {<br/>        <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> $injector.instantiate(constructor);<br/>    }]);<br/>}<br/><br/><span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> <span style="color: rgb(136, 0, 0); font-weight: bold;">value</span>(name, val) { <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> factory(name, valueFn(val), <span style="color: rgb(51, 51, 51); font-weight: 700;">false</span>); }<br/><br/><span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> <span style="color: rgb(136, 0, 0); font-weight: bold;">constant</span>(name, value) {<br/>    assertNotHasOwnProperty(name, <span style="color: rgb(136, 0, 0);">'constant'</span>);<br/>    providerCache[name] = value;<br/>    instanceCache[name] = value;<br/>}<br/><br/><span style="color: rgb(51, 51, 51); font-weight: 700;">function</span> <span style="color: rgb(136, 0, 0); font-weight: bold;">decorator</span>(serviceName, decorFn) {<br/>    <span style="color: rgb(51, 51, 51); font-weight: 700;">var</span> origProvider = providerInjector.get(serviceName + providerSuffix),<br/>        orig$get = origProvider.$get;<br/><br/>    origProvider.$get = <span style="color: rgb(51, 51, 51); font-weight: 700;">function</span>() {<br/>        <span style="color: rgb(51, 51, 51); font-weight: 700;">var</span> origInstance = instanceInjector.invoke(orig$get, origProvider);<br/>        <span style="color: rgb(51, 51, 51); font-weight: 700;">return</span> instanceInjector.invoke(decorFn, <span style="color: rgb(51, 51, 51); font-weight: 700;">null</span>, {$delegate: origInstance});<br/>    };<br/>}<br/></pre></div></div><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">可以看出，除了 constant，另外几个最终调用的都是 provider（decorator比较特殊，不算）。</p><h2 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">总结</h2><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">可以看出，从 service 到 factory 再到 provider，复杂程度依次递增，那么问题来了。</p><h3 style="margin: 0px 0px 0.5em; font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-weight: bold; color: rgb(51, 51, 51); text-rendering: optimizeLegibility; font-size: 18px; text-indent: 1em; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">什么时候使用 provider 而不用 factory ？</h3><p style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Tahoma, Arial, STXihei, &quot;Microsoft YaHei&quot;, 微软雅黑, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);">provider 是 factory 的加强版。当需要一个可配置的 factory 的时候，使用 provider。</p><div style="margin: 0px 0px 0.75em; font-size: 16px; text-indent: 1em; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Tahoma, Arial, STXihei, 'Microsoft YaHei', 微软雅黑, sans-serif; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 254);"><div>简单介绍一下 AngularJS 运行应用的过程，分两个阶段，config 阶段和 run 阶段。config 阶段是设置任何的 provider 的阶段。也是设置任何的指令，控制器，过滤器以及其它东西的阶段。在 run 阶段，AngularJS 会编译你的 DOM 并启动应用。</div></div></div></span>
</div></body></html> 