<html>
<head>
  <title>7 - jquery的form表单提交 数据和文件上传</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="384"/>
<h1>7 - jquery的form表单提交 数据和文件上传</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/6/2 星期五 18:13</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2017/6/2 星期五 18:14</i></td></tr>
<tr><td><b>作者：</b></td><td><i>王平安</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 16px;"><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">id</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;news_form&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;form-group&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;newsTitle1&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-sm-4 control-label&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">新闻标题：</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-sm-8&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;text&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;form-control&quot;</span> <span style="color: #9cdcfe;">id</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;newsTitle1&quot;</span> <span style="color: #9cdcfe;">name</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;title&quot;</span> <span style="color: #9cdcfe;">placeholder</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;输入新闻标题&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;form-group&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;newsTitle2&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-sm-4 control-label&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">新闻内容：</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-sm-8&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;text&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;form-control&quot;</span> <span style="color: #9cdcfe;">id</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;newsTitle2&quot;</span> <span style="color: #9cdcfe;">name</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;contents&quot;</span> <span style="color: #9cdcfe;">placeholder</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;输入新闻内容&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;form-group&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;newsTitle3&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-sm-4 control-label&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">新闻封面图片：</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-sm-8&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;file&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;form-control&quot;</span> <span style="color: #9cdcfe;">id</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;newsTitle3&quot;</span> <span style="color: #9cdcfe;">name</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;images&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-xs-12&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;button&quot;</span> <span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;btn btn-default add_news&quot;</span> <span style="color: #9cdcfe;">value</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;添加&quot;</span> <span style="color: #9cdcfe;">onclick</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;add_news()&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;</span></div></div><div><br/></div><div><br/></div><div><br/></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 16px;"><div><span style="color: #569cd6;">function</span> <span style="color: #dcdcaa;">add_news</span><span style="color: #d4d4d4;">() {</span></div><div><span style="color: #569cd6;">var</span> <span style="color: #9cdcfe;">news_data</span> <span style="color: #d4d4d4;">=</span> <span style="color: #569cd6;">new</span> <span style="color: #4ec9b0;">FormData</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">document</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">getElementById</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">'news_form'</span><span style="color: #d4d4d4;">));</span></div><br/><div><span style="color: #9cdcfe;">$</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">ajax</span><span style="color: #d4d4d4;">({</span></div><div><span style="color: #9cdcfe;">type:</span> <span style="color: #ce9178;">&quot;POST&quot;</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #9cdcfe;">url:</span> <span style="color: #9cdcfe;">BASE_URL</span> <span style="color: #d4d4d4;">+</span> <span style="color: #ce9178;">'?News.setCompanyNews'</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #9cdcfe;">data:</span> <span style="color: #9cdcfe;">news_data</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #9cdcfe;">processData:</span> <span style="color: #569cd6;">false</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #9cdcfe;">contentType:</span> <span style="color: #569cd6;">false</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #9cdcfe;">success:</span> <span style="color: #569cd6;">function</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">data</span><span style="color: #d4d4d4;">) {</span></div><div><span style="color: #dcdcaa;">$</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">'#newsTitle1'</span><span style="color: #d4d4d4;">).</span><span style="color: #dcdcaa;">val</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">''</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #dcdcaa;">$</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">'#newsTitle2'</span><span style="color: #d4d4d4;">).</span><span style="color: #dcdcaa;">val</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">''</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #dcdcaa;">$</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">'#newsTitle3'</span><span style="color: #d4d4d4;">).</span><span style="color: #dcdcaa;">val</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">''</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #dcdcaa;">alert_tips</span><span style="color: #d4d4d4;">(</span><span style="color: #9cdcfe;">data</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #dcdcaa;">news_setting</span><span style="color: #d4d4d4;">(</span><span style="color: #b5cea8;">1</span><span style="color: #d4d4d4;">);</span></div><div><span style="color: #d4d4d4;">}</span></div><div><span style="color: #d4d4d4;">})</span></div><div><span style="color: #d4d4d4;">}</span></div></div></span>
</div></body></html> 