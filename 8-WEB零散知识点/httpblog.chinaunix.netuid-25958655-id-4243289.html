<html>
<head>
  <title>http://blog.chinaunix.net/uid-25958655-id-4243289.html</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1131"/>
<h1>http://blog.chinaunix.net/uid-25958655-id-4243289.html</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2016/12/26 星期一 9:23</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2016/12/26 星期一 9:24</i></td></tr>
<tr><td><b>作者：</b></td><td><i>王平安</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><div style="word-wrap: break-word; margin: 10px auto; padding: 0px; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><a href="http://blog.chinaunix.net/uid-25958655-id-4243289.html">http://blog.chinaunix.net/uid-25958655-id-4243289.html</a></div><div><span style="color: rgb(102, 102, 102);"><span style="font-size: 14px;"><span style="font-family: Verdana;">被腾讯笔试打击到了，腾讯笔试的设计模式题目都没有做对过，所以我要学习下设计模式，就买了入门的《大话设计模式》这本书。</span></span></span></div></div><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">我从昨天下午开始看这本书，今天中午看完，发现这本书浅显易懂，作为入门读物还是不错的。<strong style="word-wrap: break-word;">　　</strong></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><span style="word-wrap: break-word;"><strong style="word-wrap: break-word;">　　</strong>好脑子不如烂笔头，我还是将所学的东西记载下来，供我以后来看吧。<br style="word-wrap: break-word;"/></span><strong style="word-wrap: break-word; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><strong style="word-wrap: break-word;">简单工厂模式</strong><br style="word-wrap: break-word;"/><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image.jpg" type="image/jpeg" height="249" style="word-wrap: break-word; border: 0px;" width="549"/><br style="word-wrap: break-word;"/></strong><strong style="word-wrap: break-word; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/></strong></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">当需要加法类的时候，调用工厂类的CreateOperate()，要指定制造的Product</p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">　　例如在大话设计模式P11给的运算工厂例子：</p><strong style="word-wrap: break-word; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><br style="word-wrap: break-word;"/></strong><div style="word-wrap: break-word;"><div style="word-wrap: break-word; background: none 0px 0px repeat scroll rgb(242, 242, 242); border-bottom: 1px solid rgb(221, 221, 221); font-size: 12px; font-weight: bold; height: 25px; padding: 0px; width: 1562.64px;"><p style="word-wrap: break-word; margin: 5px 0px; padding: 0px 0px 0px 30px;"><strong style="word-wrap: break-word; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">点击(<span style="word-wrap: break-word; cursor: pointer; color: red;">此处</span>)折叠或打开</strong></p></div><div style="word-wrap: break-word; border: 1px solid rgb(221, 221, 221); width: 1562.64px; overflow: auto; margin: 0px 0px 1.1em; padding: 0px; word-break: break-all; letter-spacing: 0.1px; background: rgb(255, 255, 255); font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: Consolas, monospace;"><ol start="1" style="word-wrap: break-word; margin: 0px 1px 0px 0px; padding: 0px 0px 0px 40px; list-style: none; color: rgb(92, 92, 92); background: rgb(255, 255, 255);"><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><strong style="word-wrap: break-word; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 0);"><span style="word-wrap: break-word; color: rgb(0, 0, 255);">public</span> <span style="word-wrap: break-word; color: rgb(0, 0, 255);">static</span> <span style="word-wrap: break-word; color: rgb(255, 0, 0);">Operation</span> createOperate<span style="word-wrap: break-word; color: rgb(0, 0, 204);">(</span><span style="word-wrap: break-word; color: rgb(0, 0, 255);">string</span> operate<span style="word-wrap: break-word; color: rgb(0, 0, 204);">)</span><br style="word-wrap: break-word;"/></span></strong></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 204);">{</span><br style="word-wrap: break-word;"/></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(255, 0, 0); letter-spacing: 0.1px;">    Operation</span> oper <span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">=</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">null</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">    switch</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">(</span>operate<span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">)</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">    {</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">        case</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(255, 0, 255); letter-spacing: 0.1px;">&quot;+&quot;</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">:</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            {</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            oper <span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">=</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">new</span> OperationAdd<span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">(</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">)</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">            break</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            }</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">        case</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(255, 0, 255); letter-spacing: 0.1px;">&quot;-&quot;</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">:</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            {</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            oper <span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">=</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">new</span> OperationSub<span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">(</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">)</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">            break</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            }</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">        case</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(255, 0, 255); letter-spacing: 0.1px;">&quot;*&quot;</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">:</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            {</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            oper <span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">=</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">new</span> OperationMul<span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">(</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">)</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">            break</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            }</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">        case</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(255, 0, 255); letter-spacing: 0.1px;">&quot;/&quot;</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">:</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            {</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            oper <span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">=</span><span style="word-wrap: break-word; color: rgb(92, 92, 92); letter-spacing: 0.1px;"> </span><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">new</span> OperationDiv<span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">(</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">)</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">            break</span><span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">            }</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);">    }</li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 255); letter-spacing: 0.1px;">    return</span> oper<span style="word-wrap: break-word; color: rgb(0, 0, 204); letter-spacing: 0.1px;">;</span></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 204);">}</span><br style="word-wrap: break-word;"/></li><li style="word-wrap: break-word; margin: 0px; padding: 0px 0px 0px 10px; list-style: decimal outside; background: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(0, 0, 204);">}</span></li></ol></div></div><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><strong style="word-wrap: break-word; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><br style="word-wrap: break-word;"/></strong></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">调用工厂，需要createOperator(&quot;/&quot;)，就能返回除法运算符。<br style="word-wrap: break-word;"/>
　　优点：客户端不需要修改代码。<br style="word-wrap: break-word;"/>
　　缺点： 当需要增加新的运算类的时候，不仅需新加运算类，还要修改工厂类，违反了开闭原则。<br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/><strong style="word-wrap: break-word;">工厂方法模式</strong></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">　　UML类图如下：</p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><br style="word-wrap: break-word;"/></p><strong style="word-wrap: break-word; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [1].jpg" type="image/jpeg" height="323.721436344" style="word-wrap: break-word; border: 0px;" width="700"/><br style="word-wrap: break-word;"/></strong><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">这个和简单工厂有区别，简单工厂模式只有一个工厂，工厂方法模式对每一个产品都有相应的工厂</p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">　　好处：增加一个运算类（例如N次方类），只需要增加运算类和相对应的工厂，两个类，不需要修改工厂类。</p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">　　缺点：增加运算类，会修改客户端代码，工厂方法只是把简单工厂的内部逻辑判断移到了客户端进行。</p><br style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><strong style="word-wrap: break-word;">抽象工厂模式：</strong></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);">　　UML类图如下：</p><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [2].jpg" type="image/jpeg" height="456.670746634" style="word-wrap: break-word; border: 0px; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);" width="700"/><br style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; color: rgb(102, 102, 102); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana; font-size: 14px; background-color: rgb(255, 255, 255);"><strong style="word-wrap: break-word;">    </strong>从图上可以看出这和工厂方法模式很相似，但是呢，有几个区别：<br style="word-wrap: break-word;"/>
　　抽象工厂模式，一个具体工厂可以制造几个产品，例如微软工厂（相当于SqlserverFactory）可以制造微软鼠标（属于鼠标类，鼠标类下面有惠普鼠标，微软鼠标等，相当于上图中的IDepartment下面的SqlserverDepartment和AccessDepartment），也可以制造微软键盘(属于键盘类，键盘类下面有惠普键盘，微软键盘等，相当于上图中的IUser下面的SqlserverUser和AccessUser）。<br style="word-wrap: break-word;"/>
　　引用http://blog.csdn.net/wangwenhui11/article/details/3955125中的话：<br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/>
            工厂方法模式：一个抽象产品类，可以派生出多个具体产品类。 　　<br style="word-wrap: break-word;"/>
                                一个抽象工厂类，可以派生出多个具体工厂类。 <br style="word-wrap: break-word;"/>
　　                    每个具体工厂类只能创建一个具体产品类的实例。 <br style="word-wrap: break-word;"/>
　　        抽象工厂模式：多个抽象产品类，每个抽象产品类可以派生出多个具体产品类。 <br style="word-wrap: break-word;"/>
　　                            一个抽象工厂类，可以派生出多个具体工厂类。 <br style="word-wrap: break-word;"/>
　　                            每个具体工厂类可以创建多个具体产品类的实例。 <br style="word-wrap: break-word;"/>
            区别：工厂方法模式只有一个抽象产品类，而抽象工厂模式有多个。<br style="word-wrap: break-word;"/>
　　             工厂方法模式的具体工厂类只能创建一个具体产品类的实例，而抽象工厂模式可以创建多个。<br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/>
     抽像工厂优缺:<br style="word-wrap: break-word;"/>
      优点：易于交换产品系列，例如Access和SQLServer数据库之间切换。<br style="word-wrap: break-word;"/>
　　缺点：例如增加一个机箱产品，不仅需要添加三个类“机箱类，微软机箱，惠普机箱”，还要修改惠普工厂，微软工厂支持制造机箱。而添加一个联想工厂的时候，只需要添加三个类，使用联想工厂还是要修改客户端代码的。<br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/>
　　在《大话设计模式》中，提出用简单工厂模式改进抽象工厂模式的方法。 </p><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [3].jpg" type="image/jpeg" height="376.551724138" style="word-wrap: break-word; border: 0px;" width="700"/></span><br style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"/><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [4].jpg" type="image/jpeg" height="249" style="word-wrap: break-word; border: 0px;" width="549"/><br style="word-wrap: break-word;"/><br style="word-wrap: break-word;"/><span style="word-wrap: break-word; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><strong style="word-wrap: break-word;">DataAccess的代码如下</strong><strong style="word-wrap: break-word;">:</strong><br style="word-wrap: break-word;"/><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [5].jpg" type="image/jpeg" height="416.767922236" style="word-wrap: break-word; border: 0px;" width="700"/><br style="word-wrap: break-word;"/></span></span><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">这样，在DataAccess里面直接指定数据库（指定品牌），当需要换数据库（or 品牌）的时候，修改DataAccess内的代码。</span></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">　　　当然可以用反射方法修改数据库，这样，只需要修改配置文件。就完美的改善了抽象工厂的缺点，而且在客户端不用修改代码。</span></p><p style="word-wrap: break-word; margin: 10px auto; padding: 0px; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">　　反射实现<strong style="word-wrap: break-word;">：</strong></span></p><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [6].jpg" type="image/jpeg" height="371.186440678" style="word-wrap: break-word; border: 0px;" width="700"/></span></div><div><span style="font-size: 14px;"><span style="font-family: Verdana;"><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(102, 102, 102);">要修改db属性<strong style="word-wrap: break-word;">：</strong></span></span></span></span></div><div><span style="word-wrap: break-word; color: rgb(102, 102, 102); font-family: 宋体, Arial; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="word-wrap: break-word; font-family: Verdana; font-size: 14px; white-space: normal; background-color: rgb(255, 255, 255);"><img src="httpblog.chinaunix.netuid-25958655-id-4243289_files/Image [7].jpg" type="image/jpeg" height="89.012345679" style="word-wrap: break-word; border: 0px;" width="700"/></span></span></div></span>
</div></body></html> 