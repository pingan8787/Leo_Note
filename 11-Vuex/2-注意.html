<html>
<head>
  <title>2-注意</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="432"/>
<h1>2-注意</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/5/18 星期四 18:25</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2017/5/19 星期五 15:43</i></td></tr>
<tr><td><b>作者：</b></td><td><i>王平安</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><span style="font-size: 21px;">1-顺序：</span></div><div><span style="font-size: 21px;">引入顺序：必须vue在前，vuex在后</span></div><div><img src="2-注意_files/Image.png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 21px;">声明顺序：必须vuex在前，vue在后</span></div><div><img src="2-注意_files/Image [1].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;">2-子组件要引用<span style="color: rgb(255, 0, 0);">一个</span>根组件state的数据</span></div><div><span style="font-size: 21px;">必须使用this.$store.state调用</span></div><div><img src="2-注意_files/Image [2].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;">3-子组件要获取根组件的<span style="color: rgb(255, 0, 0);">多个</span>state的数据</span></div><div><span style="font-size: 21px;">根组件数据：</span></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Menlo, Monaco, 'Courier New', monospace;font-weight: normal;font-size: 12px;"><div><span style="color: #d4d4d4;">   </span> <span style="color: #9cdcfe;">state:</span><span style="color: #d4d4d4;"> {</span></div><div><span style="color: #d4d4d4;">       </span> <span style="color: #9cdcfe;">count:</span><span style="color: #d4d4d4;"> </span><span style="color: #b5cea8;">0</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #d4d4d4;">       </span> <span style="color: #9cdcfe;">leo:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'你好'</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #d4d4d4;">       </span> <span style="color: #9cdcfe;">name:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'leo'</span></div><div><span style="color: #d4d4d4;">    },</span></div></div><div><span style="font-size: 21px;">子组件获取</span></div><div><span style="font-size: 21px;">  先引入mapState</span></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Menlo, Monaco, 'Courier New', monospace;font-weight: normal;font-size: 12px;"><div><span style="color: #c586c0;">import</span><span style="color: #d4d4d4;"> { </span><span style="color: #9cdcfe;">mapState</span><span style="color: #d4d4d4;"> } </span><span style="color: #c586c0;">from</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'vuex'</span></div></div><div><span style="font-size: 21px;">  在写计算属性</span></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Menlo, Monaco, 'Courier New', monospace;font-weight: normal;font-size: 12px;"><div><span style="color: #d4d4d4;"> </span> <span style="color: #9cdcfe;">computed:</span><span style="color: #dcdcaa;">mapState</span><span style="color: #d4d4d4;">({</span></div><div><span style="color: #d4d4d4;">   </span> <span style="color: #9cdcfe;">count:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">state</span><span style="color: #d4d4d4;"> </span><span style="color: #569cd6;">=&gt;</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">state</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">count</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #d4d4d4;">   </span> <span style="color: #9cdcfe;">names:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'name'</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #d4d4d4;">   </span> <span style="color: #9cdcfe;">leos:</span><span style="color: #ce9178;">'leo'</span></div><div><span style="color: #d4d4d4;">  })</span></div></div><div><span style="font-size: 21px;">  页面渲染</span></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Menlo, Monaco, 'Courier New', monospace;font-weight: normal;font-size: 12px;"><div><span style="color: #d4d4d4;">   </span> <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">测试计算属性：{{</span><span style="color: #9cdcfe;">count</span><span style="color: #d4d4d4;">}}</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">   </span> <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">测试计算属性：{{</span><span style="color: #9cdcfe;">names</span><span style="color: #d4d4d4;">}}</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">   </span> <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">测试计算属性：{{</span><span style="color: #9cdcfe;">leos</span><span style="color: #d4d4d4;">}}</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;">4-子组件获取根组件多个数据的几种方式：</span></div><div><img src="2-注意_files/Image [3].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;">5-根组件的计算属性getters方法<span style="color: rgb(255, 0, 0);"> 接收 state 作为第一个参数</span></span></div><div><span style="font-size: 21px;"><span style="color: rgb(255, 0, 0);">可以认为是 store 的计算属性</span></span></div><div><span style="font-size: 21px;">根组件：</span></div><div><img src="2-注意_files/Image [4].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 21px;">子组件：</span></div><div>getter 函数将导出在 <code>store.getters</code> 对象上</div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 16px;"><div><span style="color: #4ec9b0;">console</span><span style="color: #d4d4d4;">.</span><span style="color: #dcdcaa;">log</span><span style="color: #d4d4d4;">(</span><span style="color: #569cd6;">this</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">$store</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">getters</span><span style="color: #d4d4d4;">.</span><span style="color: #9cdcfe;">doneTodos</span><span style="color: #d4d4d4;">)</span></div></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;">5-根组件的计算属性getters方法</span></div><div><span style="font-size: 21px;">Getters 也可以接受其他 getters 作为第二个参数：</span></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;"><br/></span></div><div><span style="font-size: 21px;">.</span></div></span>
</div></body></html> 