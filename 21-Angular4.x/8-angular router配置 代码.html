<html>
<head>
  <title>8-angular router配置 代码</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1823"/>
<h1>8-angular router配置 代码</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/6/26 星期一 11:33</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2017/6/27 星期二 15:56</i></td></tr>
<tr><td><b>作者：</b></td><td><i>王平安</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><b><span style="font-size: 19px;"><span style="color: rgb(255, 0, 0);">0- 安装Angular Router </span></span></b></div><div style="box-sizing: border-box; overflow: auto; display: block; padding: 1em; margin-right: 0px; margin-bottom: 1.5em; margin-left: 0px; border: none; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; max-height: 35em; position: relative; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 0px !important;"><div><span style="font-family: 'Source Code Pro', Consolas, Menlo, Monaco, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><b><span style="font-size: 19px;"><code style="box-sizing: border-box; font-family: 'Source Code Pro', Consolas, Menlo, Monaco, 'Courier New', monospace; padding: 0px; color: inherit; background-image: none; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; overflow-wrap: normal; background-position: initial initial; background-repeat: initial initial;"><span style="box-sizing: border-box; color: rgb(0, 134, 179);">npm</span> i --save @angular/router</code></span></b></span></span></div></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 19px;"><b>1- 新建带有angular-router的项目</b></span></span></div><div><span style="font-size: 19px;"><b>ng new demoname  --routing</b></span></div><div><b><span style="font-size: 19px;"><br/></span></b></div><div><span style="color: rgb(255, 0, 0);"><b><span style="font-size: 19px;">2- angular router配置 代码</span></b></span></div><div><b><span style="font-size: 19px;">app-routing.module.ts</span></b></div><div><img src="8-angular router配置 代码_files/Image.png" type="image/png" style="height: auto;"/></div><div><b><span style="font-size: 19px;"><br/></span></b></div><div><b><span style="font-size: 19px;">app.component.html</span></b></div><div><img src="8-angular router配置 代码_files/Image [1].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><b><span style="font-size: 19px;">3- 通过事件绑定 实现跳转</span></b></span></div><div><img src="8-angular router配置 代码_files/Image [2].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><img src="8-angular router配置 代码_files/Image [3].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 19px;"><b>4- 输入地址有误时，显示的页面</b></span></span></div><div><img src="8-angular router配置 代码_files/Image [4].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 19px;"><b>5- 路由的参数传递</b></span></span></div><div><b><span style="font-size: 19px;"><span style="color: rgb(255, 0, 0);">sanpshot：参数快照</span></span></b></div><div><b><span style="font-size: 19px;"><span style="color: rgb(255, 0, 0);">subscribe：参数订阅</span></span></b></div><div><span style="font-size: 16px;"><b>① 在查询参数中传递参数</b></span></div><div><span style="font-size: 16px;"><b><img src="8-angular router配置 代码_files/Image [5].png" type="image/png" style="height: auto;"/></b></span></div><div><font size="4"><b>product.component.ts</b></font></div><div><img src="8-angular router配置 代码_files/Image [6].png" type="image/png" style="height: auto;"/></div><div><font size="4"><b>product.component.html</b></font></div><div><img src="8-angular router配置 代码_files/Image [7].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 16px;"><b>② 在路由路径中传递参数</b></span></div><div><span style="font-size: 16px;"><b><img src="8-angular router配置 代码_files/Image [8].png" type="image/png" style="height: auto;"/></b></span></div><div><font size="4"><b>product.component.js</b></font></div><div><img src="8-angular router配置 代码_files/Image [9].png" type="image/png" style="height: auto;"/></div><div><font size="4"><b>app.component.html</b></font></div><div><img src="8-angular router配置 代码_files/Image [10].png" type="image/png" style="height: auto;"/></div><div><font size="4"><b>app-routing.module.ts</b></font></div><div><img src="8-angular router配置 代码_files/Image [11].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 16px;"><b>③ 在路由配置中传递参数</b></span></div><div><img src="8-angular router配置 代码_files/Image [12].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 19px;"><b>6- 路由重定向</b></span></span><div style="background-color:#2b2b2b;color:#a9b7c6;font-family:'Consolas';font-size:15.0pt;"><br/>
  {<span style="color:#9876aa;">path</span>: <span style="color:#6a8759;">''</span><span style="color:#cc7832;">, </span><span style="color:#9876aa;">redirectTo</span>: <span style="color:#6a8759;">'/home' </span><span style="color:#cc7832;">, </span><span style="color:#9876aa;">pathMatch </span>: <span style="color:#6a8759;">'full'</span>}<span style="color:#cc7832;">,</span></div></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 19px;"><b>7- 辅助路由</b></span></span></div><div><b><span style="font-size: 19px;">app.component.html</span></b></div><div><img src="8-angular router配置 代码_files/Image [13].png" type="image/png" style="height: auto;"/></div><div><b><span style="font-size: 19px;">app-routing.module.ts</span></b></div><div><img src="8-angular router配置 代码_files/Image [14].png" type="image/png" style="height: auto;"/></div><div><font size="4"><b>app.component.html</b></font></div><div><img src="8-angular router配置 代码_files/Image [15].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="color: rgb(255, 0, 0);"><span style="font-size: 19px;"><b>8- 路由守卫</b></span></span></div><div><span style="font-size: 16px;"><b>当用户满足某些条件才可以进入/离开路由</b></span></div><div><img src="8-angular router配置 代码_files/Image [16].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 16px;"><b>①CanActive 满足某些条件才可以进入</b></span></div><div><b><span style="font-size: 16px;">login.guard.ts</span></b></div><div><img src="8-angular router配置 代码_files/Image [17].png" type="image/png" style="height: auto;"/></div><div>app-routing.module.ts</div><div><img src="8-angular router配置 代码_files/Image [18].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><b>②CanDeactivate</b></span><span style="font-size: 16px;"><b>满足某些条件才可以退出</b></span></div><div><b><span style="font-size: 16px;">unsave.guard.ts</span></b></div><div><img src="8-angular router配置 代码_files/Image [19].png" type="image/png" style="height: auto;"/></div><div>app-routing.module.ts</div><div><img src="8-angular router配置 代码_files/Image [20].png" type="image/png" style="height: auto;"/></div><div><b><span style="font-size: 16px;"><br/></span></b></div><div><span style="font-size: 16px;"><b>③Resolve 进入路由前先读取数据，带着数据再进入路由</b></span></div><div><b><span style="font-size: 16px;">product.resolve.ts</span></b></div><div><img src="8-angular router配置 代码_files/Image [21].png" type="image/png" style="height: auto;"/></div><div><br/></div><div>product.component.ts</div><div><img src="8-angular router配置 代码_files/Image [22].png" type="image/png" style="height: auto;"/></div><div>app-routing.module.ts</div><div><img src="8-angular router配置 代码_files/Image [23].png" type="image/png" style="height: auto;"/></div><div>product.component.ts</div><div><img src="8-angular router配置 代码_files/Image [24].png" type="image/png" style="height: auto;"/></div></span>
</div></body></html> 