<html>
<head>
  <title>3-demo 4.嵌套路由</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1392"/>
<h1>3-demo 4.嵌套路由</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/3/23 星期四 11:29</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2017/3/24 星期五 10:01</i></td></tr>
<tr><td><b>作者：</b></td><td><i>王平安</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><b><span style="font-size: 14px;"><span style="font-family: Consolas, 'Courier New', monospace;">   要注意，以 / 开头的嵌套路径会被当作根路径。 这让你充分的使用嵌套组件而无须设置嵌套的路径。</span></span></b></div><div><span style="font-size: 14px;"><span style="font-family: Consolas, 'Courier New', monospace;"><span style="color: rgb(128, 128, 128);"><br/></span></span></span></div><div><span style="font-size: 14px;"><span style="font-family: Consolas, 'Courier New', monospace;"><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;mytest3&quot;</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;container&quot;</span><span style="color: #808080;">&gt;</span></span></span></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;"><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">id</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;header-nav&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;row&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-xs-12 text-center&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h1</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">3-嵌套路由！</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h1</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">ul</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-xs-12 text-center&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-link</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">to</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;/user/foo&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">首页</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">router-link</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-link</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">to</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;/user/foo/news&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">新闻</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">router-link</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-link</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">to</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;/user/foo/vedio&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">视频</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">router-link</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-link</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">to</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;/user/foo/play&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">娱乐</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">router-link</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-link</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">to</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;/user/foo/game&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">游戏</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">router-link</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-link</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">to</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;/user/foo/live&quot;</span><span style="color: #808080;">&gt;</span><span style="color: #d4d4d4;">直播</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">router-link</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">ul</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">class</span><span style="color: #d4d4d4;">=</span><span style="color: #ce9178;">&quot;col-xs-12 text-center&quot;</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                    </span><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">router-view</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">router-view</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">                </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">            </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br/></div><div><span style="font-size: 14px;"><span style="font-family: Consolas, 'Courier New', monospace;"><span style="color: #d4d4d4;">   </span></span></span></div><div><br/></div><div style="color: #d4d4d4;background-color: #1e1e1e;font-family: Consolas, 'Courier New', monospace;font-weight: normal;font-size: 14px;"><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserPage</span><span style="color: #d4d4d4;"> = {</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">`</span></div><div><span style="color: #ce9178;">        &lt;div class=&quot;userhome&quot;&gt;</span></div><div><span style="color: #ce9178;">            &lt;h2&gt;halo，{{$route.params.id}}&lt;/h2&gt;</span></div><div><span style="color: #ce9178;">            &lt;router-view&gt;&lt;/router-view&gt;</span></div><div><span style="color: #ce9178;">        &lt;/div&gt;</span></div><div><span style="color: #ce9178;">    `</span></div><div><span style="color: #d4d4d4;">}</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserHome</span><span style="color: #d4d4d4;"> = { </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'&lt;div&gt;这一页是首页...&lt;/div&gt;'</span><span style="color: #d4d4d4;"> }</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserNews</span><span style="color: #d4d4d4;"> = { </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'&lt;div&gt;这一页是新闻...&lt;/div&gt;'</span><span style="color: #d4d4d4;"> }</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserVedio</span><span style="color: #d4d4d4;"> = { </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'&lt;div&gt;这一页是视频...&lt;/div&gt;'</span><span style="color: #d4d4d4;"> }</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserPlay</span><span style="color: #d4d4d4;"> = { </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'&lt;div&gt;这一页是娱乐...&lt;/div&gt;'</span><span style="color: #d4d4d4;"> }</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserGame</span><span style="color: #d4d4d4;"> = { </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'&lt;div&gt;这一页是游戏...&lt;/div&gt;'</span><span style="color: #d4d4d4;"> }</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserLive</span><span style="color: #d4d4d4;"> = { </span><span style="color: #9cdcfe;">template:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'&lt;div&gt;这一页是直播...&lt;/div&gt;'</span><span style="color: #d4d4d4;"> }</span></div><br/><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">router3</span><span style="color: #d4d4d4;"> = </span><span style="color: #569cd6;">new</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">VueRouter</span><span style="color: #d4d4d4;">({</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #9cdcfe;">routes:</span><span style="color: #d4d4d4;"> [{</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'/user/:id'</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserPage</span><span style="color: #d4d4d4;">,</span></div><div><span style="color: #d4d4d4;">        </span><span style="color: #9cdcfe;">children:</span><span style="color: #d4d4d4;"> [</span></div><div><span style="color: #d4d4d4;">            { </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">''</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserHome</span><span style="color: #d4d4d4;"> }, </span><span style="color: #608b4e;">// 当 /user/:id 匹配成功，// UserHome 会被渲染在 UserPage 的 &lt;router-view&gt; 中</span></div><div><span style="color: #d4d4d4;">            { </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'news'</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserNews</span><span style="color: #d4d4d4;"> }, </span><span style="color: #608b4e;">// 当 /user/:id/news 匹配成功  UserNews 会被渲染在 UserPage 的 &lt;router-view&gt; 中</span></div><div><span style="color: #d4d4d4;">            { </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'vedio'</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserVedio</span><span style="color: #d4d4d4;"> },</span></div><div><span style="color: #d4d4d4;">            { </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'play'</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserPlay</span><span style="color: #d4d4d4;"> },</span></div><div><span style="color: #d4d4d4;">            { </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'game'</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserGame</span><span style="color: #d4d4d4;"> },</span></div><div><span style="color: #d4d4d4;">            { </span><span style="color: #9cdcfe;">path:</span><span style="color: #d4d4d4;"> </span><span style="color: #ce9178;">'live'</span><span style="color: #d4d4d4;">, </span><span style="color: #9cdcfe;">component:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">UserLive</span><span style="color: #d4d4d4;"> }</span></div><div><span style="color: #d4d4d4;">        ]</span></div><div><span style="color: #d4d4d4;">    }]</span></div><div><span style="color: #d4d4d4;">})</span></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">app3</span><span style="color: #d4d4d4;"> = </span><span style="color: #569cd6;">new</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">Vue</span><span style="color: #d4d4d4;">({</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #9cdcfe;">router:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">router3</span></div><div><span style="color: #d4d4d4;">}).</span><span style="color: #dcdcaa;">$mount</span><span style="color: #d4d4d4;">(</span><span style="color: #ce9178;">'#mytest3'</span><span style="color: #d4d4d4;">);</span></div></div><div><span style="font-size: 14px;"><span style="font-family: Consolas, 'Courier New', monospace;"><span style="color: rgb(212, 212, 212);"><br/></span></span></span></div><div><b><span style="color: rgb(255, 0, 0);"><font face="Consolas, Courier New, monospace"><span style="font-size: 14px;">或者写成</span></font></span></b></div><div><span style="color: #569cd6;">const</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">app3</span><span style="color: #d4d4d4;"> = </span><span style="color: #569cd6;">new</span><span style="color: #d4d4d4;"> </span><span style="color: #4ec9b0;">Vue</span><span style="color: #d4d4d4;">({</span></div><div><span style="color: rgb(212, 212, 212);">    el:'#mytest3'</span></div><div><span style="color: #d4d4d4;">    </span><span style="color: #9cdcfe;">router:</span><span style="color: #d4d4d4;"> </span><span style="color: #9cdcfe;">router3</span></div><div><span style="color: #d4d4d4;">});</span></div></span>
</div></body></html> 